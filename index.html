<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>IRON BANK POOLS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.16.0/dist/ethers.umd.min.js"></script>
  <style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: #121212;
  color: #e0e0e0;
  padding: 20px;
  margin: 0;
  overflow-x: hidden;
}
h1 {
  text-align: center;
  color: #fff;
  margin-bottom: 10px;
}
#portfolio-summary,
#credit-usage,
#predicted-usage,
#wallet-status {
  text-align: center;
  margin: 10px 0;
  font-weight: bold;
}
.button-group {
  text-align: center;
  margin-bottom: 15px;
}
.table-wrapper {
  overflow-x: auto;
  width: 100%;
  max-width: 100%;
}
table {
  width: 100%;
  border-collapse: collapse;
  background: #1e1e1e;
  margin-top: 20px;
  table-layout: auto;
}
th, td {
  border: 1px solid #333;
  padding: 8px 12px;
  text-align: left;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #e0e0e0;
  font-size: 14px;
}
th {
  background: #2c2c2c;
  font-weight: bold;
}
tr:nth-child(even) {
  background: #252525;
}
td[data-label="Actions"] {
  min-width: 160px;
  max-width: 180px;
  white-space: normal;
  word-break: break-word;
  padding: 6px;
}
td[data-label="Actions"] button,
td[data-label="Actions"] input {
  font-size: 12px;
  padding: 4px 6px;
  margin: 2px 0;
  width: 100%;
  box-sizing: border-box;
}
input {
  background: #2c2c2c;
  color: #e0e0e0;
  border: 1px solid #444;
  border-radius: 4px;
  padding: 4px;
  margin: 2px 0;
  width: 80px;
  max-width: 100%;
  box-sizing: border-box;
}
.liquidity-value { color: #2ecc71; }
.supply-apy, .pred-supply { color: yellow; white-space: nowrap; }
.borrow-apy, .pred-borrow { color: #e74c3c; white-space: nowrap; }
.your-lend, .your-borrow { color: #9b59b6; font-weight: bold; }
button {
  background: #3b82f6;
  border: none;
  color: #fff;
  padding: 6px 10px;
  margin: 2px;
  border-radius: 4px;
  cursor: pointer;
}
button:hover {
  background: #2563eb;
}
.progress-container {
  background: #333;
  border-radius: 4px;
  width: 80%;
  height: 12px;
  margin: 4px auto;
}
.progress-bar {
  height: 100%;
  width: 0;
  border-radius: 4px;
  transition: width 0.3s, background-color 0.3s;
}
/* Mobile responsive styles */
@media (max-width: 800px) {
  body { padding: 5px; }
  table, thead, tbody, th, td, tr {
    display: block;
    width: 100%;
  }
  thead { display: none; }
  tr {
    margin-bottom: 15px;
    border-bottom: 2px solid #333;
  }
  td {
    border: none;
    position: relative;
    padding-left: 50%;
    box-sizing: border-box;
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: unset !important;
  }
  td:before {
    position: absolute;
    left: 10px;
    top: 12px;
    width: 45%;
    white-space: nowrap;
    font-weight: bold;
    color: #aaa;
    content: attr(data-label);
  }
  td[data-label="Actions"] {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    justify-content: flex-start;
    padding-left: 10px;
  }
  td[data-label="Actions"] button {
    min-width: 90px;
    font-size: 0.9em;
    flex: 1 1 auto;
  }
  .button-group button,
  input {
    width: 95%;
    margin: 4px 0;
  }
  #portfolio-summary,
  #credit-usage,
  #predicted-usage {
    font-size: 1em;
  }
}
</style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h1>IRON BANK POOLS</h1>
  <div id="portfolio-summary">Portfolio: $0.00 | Net APY: 0% | Daily: $0.00 | Hourly: $0.00</div>
  <div id="credit-usage">Credit Usage: 0% of max<div class="progress-container"><div id="usage-bar" class="progress-bar"></div></div></div>
  <div id="predicted-usage">Predicted Usage: N/A<div class="progress-container"><div id="predicted-bar" class="progress-bar"></div></div></div>
  <div id="wallet-status"></div>
  <div class="button-group">
    <button onclick="connectWallet()">Connect Wallet</button>
    <button onclick="disconnectWallet()">Disconnect Wallet</button>
    <button onclick="loadPoolData()">Refresh Data</button>
    <button onclick="previewAll()">Preview All</button>
  </div>
 <div class="table-wrapper">
  <table>
    <thead>
      <tr>
        <th>Token</th>
        <th>Liquidity</th>
        <th>Total Supply</th>
        <th>Supply APY</th>
        <th>Total Borrow</th>
        <th>Borrow APY</th>
        <th>Reserves</th>
        <th>Utilization</th>
        <th>Your Lend</th>
        <th>Your Borrow</th>
        <th>Actions</th>
        <th>Collateral</th>
      </tr>
    </thead>
    <tbody id="data-body"></tbody>
  </table>
  </div>
  <div id="status"></div>
  <script src="app.js"></script>
</body>
</html>
